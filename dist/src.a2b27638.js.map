{"version":3,"sources":["src/database.json","src/MathHelper/index.js","src/checkout/index.js","src/index.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["module","exports","multiply","num1","num2","baseNum","s1","toString","s2","getBaseNum","Number","replace","Math","pow","divide","baseNum1","baseNum2","max","factor","plus","minus","num","split","length","_default","default","_database","_interopRequireDefault","require","_MathHelper","obj","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","r","l","t","e","n","u","a","f","call","next","Object","done","push","value","return","Array","isArray","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","key","_createClass","Constructor","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","_classCallCheck","instance","_createForOfIteratorHelper","allowArrayLike","it","F","s","_e","normalCompletion","didErr","err","step","_e2","minLen","_arrayLikeToArray","slice","name","from","test","len","arr2","checkout","productIDs","arguments","products","getProducts","promotions","getPromotions","productMap","getProductIDsMap","totalPrice","_iterator","_step","promotion","result","action","error","map","Map","_iterator2","_step2","id","has","set","count","price","item","get","allProducts","database","_iterator3","_step3","product","Error","concat","Promotion","getPromotionPatternOneAction","getPromotionPatternTwoAction","defaultAction","_iterator4","values","_step4","buyCount","discountRatio","_iterator5","_step5","_step5$value","MathHelper","delete","discount","recorder","_iterator6","keys","_step6","reduce","prev","discountedPrice","removeItemFromProductMap","_iterator7","_step7","_checkout","render","content","console","document","getElementById","innerHTML","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","message","stack","overlay","createErrorOverlay","body","appendChild","remove","createElement","stackTrace","innerText","getParents","modules","parents","k","d","dep","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["module.exports = {\r\n  \"products\": {\r\n    \"001\": {\r\n      \"name\": \"Cola\",\r\n      \"price\": 45\r\n    },\r\n    \"002\": {\r\n      \"name\": \"Royal\",\r\n      \"price\": 50\r\n    },\r\n    \"003\": {\r\n      \"name\": \"Sprite\",\r\n      \"price\": 55\r\n    },\r\n    \"004\": {\r\n      \"name\": \"Fanta\",\r\n      \"price\": 60\r\n    },\r\n    \"005\": {\r\n      \"name\": \"Lemon Tea\",\r\n      \"price\": 35\r\n    }\r\n  }\r\n}\r\n;","const multiply = (num1, num2) => {\r\n    let baseNum = 0\r\n    const s1 = num1.toString()\r\n    const s2 = num2.toString()\r\n    baseNum += getBaseNum(num1)\r\n    baseNum += getBaseNum(num2)\r\n    return ((Number(s1.replace('.', '')) * Number(s2.replace('.', ''))) / Math.pow(10, baseNum))\r\n}\r\n\r\nconst divide = (num1, num2) => {\r\n    const baseNum1 = getBaseNum(num1)\r\n    const baseNum2 = getBaseNum(num2)\r\n    const baseNum = Math.max(baseNum1, baseNum2)\r\n    const factor = Math.pow(10, baseNum)\r\n    return (num1 * factor) / (num2 * factor)\r\n}\r\n\r\nconst plus = (num1, num2) => {\r\n    const baseNum1 = getBaseNum(num1)\r\n    const baseNum2 = getBaseNum(num2)\r\n    const baseNum = Math.max(baseNum1, baseNum2)\r\n    const factor = Math.pow(10, baseNum)\r\n    return (num1 * factor + num2 * factor) / factor\r\n}\r\n\r\nconst minus = (num1, num2) => {\r\n    const baseNum1 = getBaseNum(num1)\r\n    const baseNum2 = getBaseNum(num2)\r\n    const baseNum = Math.max(baseNum1, baseNum2)\r\n    const factor = Math.pow(10, baseNum)\r\n    return (num1 * factor - num2 * factor) / factor\r\n}\r\n\r\nconst getBaseNum = (num) => {\r\n    return (num.toString().split('.')[1] || '').length;\r\n}\r\n\r\nexport default {\r\n    plus,\r\n    minus,\r\n    multiply,\r\n    divide,\r\n\r\n}","import database from '../database.json'\r\nimport MathHelper from '../MathHelper';\r\n\r\nexport const checkout = (productIDs = []) => {\r\n    try {\r\n        if (productIDs.length === 0) return 0;\r\n        // get this checkout's product data from database\r\n        const products = getProducts(productIDs)\r\n        const promotions = getPromotions()\r\n        // sort products ids into map structure\r\n        let productMap = getProductIDsMap(productIDs, products)\r\n        let totalPrice = 0\r\n        // calculate each promotion's price, and remove used product Id in map\r\n        for (const promotion of promotions) {\r\n            const result = promotion.action(productMap, totalPrice)\r\n            productMap = result.productMap\r\n            totalPrice = result.totalPrice\r\n        }\r\n\r\n        return totalPrice\r\n\r\n    } catch (error) {\r\n        // should log this error in production environment\r\n        throw error\r\n    }\r\n};\r\n\r\nexport const getProductIDsMap = (productIDs, products) => {\r\n    const map = new Map()\r\n    for (const id of productIDs) {\r\n        if (!map.has(id)) {\r\n            map.set(id, {\r\n                count: 1,\r\n                price: products[id].price\r\n            })\r\n            continue\r\n        }\r\n\r\n        const item = map.get(id)\r\n        map.set(id, {\r\n            count: ++item.count,\r\n            price: item.price\r\n        })\r\n    }\r\n    return map\r\n}\r\n\r\n// simulate of select needed products in database\r\nexport const getProducts = (productIDs = []) => {\r\n    // all products from db\r\n    const allProducts = database.products\r\n    const result = {}\r\n    for (const id of productIDs) {\r\n        const product = allProducts[id]\r\n        if (!product) throw new Error(`product ID: ${id} not found.`)\r\n        result[id] = product\r\n    }\r\n    return result\r\n}\r\n\r\nclass Promotion {\r\n    constructor(name, action) {\r\n        this.name = name\r\n        this.action = action\r\n    }\r\n}\r\n\r\nconst getPromotions = () => {\r\n    return [\r\n        // can add new promotion here\r\n        new Promotion('Buy one item at full price, and get the second one at a 50% discount', getPromotionPatternOneAction(2, 0.5)),\r\n        new Promotion('Every three items form a group, and there is a $5 discount on each item', getPromotionPatternTwoAction(3, 5)),\r\n        new Promotion('default', defaultAction)\r\n    ]\r\n}\r\n\r\n// sum remain products' price\r\nexport const defaultAction = (productMap, totalPrice) => {\r\n    for (const item of productMap.values()) {\r\n        totalPrice += item.count * item.price\r\n    }\r\n    return {\r\n        productMap: new Map(),\r\n        totalPrice\r\n    }\r\n}\r\n\r\n// promotion 1\r\n// buy N item, and get M % discount of total ratio\r\nexport const getPromotionPatternOneAction = (buyCount, discountRatio) => {\r\n    return (productMap, totalPrice) => {\r\n        for (let [key, item] of productMap) {\r\n            while (item.count >= buyCount) {\r\n                totalPrice = MathHelper.plus(totalPrice, MathHelper.multiply(item.price, MathHelper.minus(buyCount, discountRatio)))\r\n                item.count -= buyCount\r\n                if (item.count === 0) productMap.delete(key)\r\n            }\r\n        }\r\n        return {\r\n            productMap,\r\n            totalPrice\r\n        }\r\n    }\r\n}\r\n\r\n// promotion 2\r\n// N item form a group, and there is $ M on each item\r\nexport const getPromotionPatternTwoAction = (buyCount, discount) => {\r\n    return (productMap, totalPrice) => {\r\n        let recorder = []\r\n        for (const key of productMap.keys()) {\r\n            recorder.push(key)\r\n            if (recorder.length === buyCount) {\r\n                totalPrice = MathHelper.plus(totalPrice, recorder.reduce((prev, id) => {\r\n                    const discountedPrice = MathHelper.minus(productMap.get(id).price, discount)\r\n                    return MathHelper.plus(prev, discountedPrice)\r\n                }, 0))\r\n                productMap = removeItemFromProductMap(productMap, recorder)\r\n                recorder = []\r\n            }\r\n        }\r\n        return {\r\n            productMap,\r\n            totalPrice\r\n        }\r\n    }\r\n}\r\n\r\nexport const removeItemFromProductMap = (productMap, productIDs) => {\r\n    for (const id of productIDs) {\r\n        let item = productMap.get(id)\r\n        item.count--\r\n        if (item.count === 0) productMap.delete(id)\r\n    }\r\n    return productMap\r\n}","import {\r\n  checkout\r\n}\r\nfrom \"./checkout\";\r\n\r\n\r\nconst render = () => {\r\n  let content\r\n  try {\r\n    const price = checkout([\"003\", \"002\", \"003\", \"003\", \"004\"])\r\n    content = `Your price is $${price}`\r\n  } catch (error) {\r\n    content = 'Something went wrong, Please contact customer service.'\r\n    console.error(error)\r\n  }\r\n  document.getElementById(\"app\").innerHTML = content;\r\n}\r\n\r\nrender()","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] âœ¨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] ðŸš¨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">ðŸš¨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}